<% layout("layouts/boilerPlate") -%>

<h2>All Events</h2>

<div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1">
  <% for (let event of allEvents) { %>
    <a href="/events/<%= event._id %>" class="listing-link">
      <div class="card col listing-card">
        <img
          src="<%= event.image %>"
          class="card-img-top"
          style="height: 20rem"
          alt="Event Image"
        />
        <div class="card-img-overlay">
          <!-- You can add something like date or label here if you want -->
        </div>
        <div class="card-body">
          <p class="card-text">
            <b><%= event.title %></b><br />
            <small><%= new Date(event.date).toDateString() %> at <%= event.time %></small><br/>
            <small>Venue: <%= event.venue %></small><br/>
            <% if(event.ticketPrice > 0) { %>
              &#8377; <%= event.ticketPrice.toLocaleString("en-IN") %> / Ticket
            <% } else { %>
              Free Entry
            <% } %>
          </p>
        </div>
      </div>
    </a>
  <% } %>
</div>
